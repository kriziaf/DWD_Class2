


<html>
	<head>
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>

		<script type="text/javascript">
			window.addEventListener('load',init);
			function init() {
				document.getElementById('getweather').addEventListener('click', getWeatherClicked);
			}

			function getWeatherClicked() {
				var request = new XMLHttpRequest();
				request.addEventListener('load', ajaxLoaded);
				function ajaxLoaded(){
					//alert(this.responseText);
					var response = JSON.parse(this.responseText);
					///response.main.temp
					document.getElementById('result').innerHTML = response.main.temp;
				}
				request.open("GET", "http://api.openweathermap.org/data/2.5/weather?q=New%20York&appid=d21e79452f4461671f1ccf2a209d48c3&units=metric");
				request.send();
			}

			/*$('document').ready(
				function() {
					$('#getweather').click(function() {
						$.ajax({
						  url: "http://api.openweathermap.org/data/2.5/weather?q=New%20York&appid=d21e79452f4461671f1ccf2a209d48c3&units=metric",
						  data: {},
						  success: function( result ) {
						  	$('#result').html("The temp in NYC is: " + result.main.temp);
						  },
						  error: function(err) {
						  	alert(err);
						  }
						});		
					});
				}
			);*/

		</script>
	</head>
	<body>
		<button id="getweather">Get Weather</button>
		<div id="result"></div>
	</body>
</html>
